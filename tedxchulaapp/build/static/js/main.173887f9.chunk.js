(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},119:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},163:function(e,t){},166:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),i=n(22),c=n.n(i),s=(n(97),n(13)),l=n(3),u=n(4),p=n(6),d=n(5),m=n(7),h=n(17),f=n(8),E=(n(102),n(44)),_=n.n(E).a.create({baseURL:"https://app.tedxchulalongkornu.net/"}),g=n(25),v=n.n(g),b=(n(119),n(75)),w=n.n(b),O=function(e){return e.children},k=n(76),y=n.n(k),j=function(e){return e.show?r.a.createElement("div",{className:y.a.Backdrop,onClick:e.clicked}):null},C=n(23),N=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return r.a.createElement(O,null,r.a.createElement(j,{show:this.props.show,clicked:this.props.modalClosed}),r.a.createElement(C.a,{mountOnEnter:!0,unmountOnExit:!0,in:this.props.show,timeout:300,classNames:"in"},r.a.createElement("div",{className:w.a.Modal},this.props.children)))}}]),t}(o.Component),q=Object(h.f)(N),A=n(26),Q=n.n(A),I=n(80),x=n.n(I),S=function(e){return r.a.createElement("div",null,r.a.createElement("img",{src:x.a,style:{height:e.height}}))},F=function(e){return r.a.createElement("header",{className:Q.a.Toolbar},r.a.createElement(S,{height:"30px"}),r.a.createElement("div",null,r.a.createElement("p",{style:{color:"white",marginRight:10}},e.numClient),r.a.createElement("p",{style:{color:"white",marginRight:10}},r.a.createElement("i",{className:"fas fa-users"})),e.online?r.a.createElement("div",{className:[Q.a.status,Q.a.open].join(" ")}):r.a.createElement("div",{className:[Q.a.status,Q.a.dead].join(" ")})))},T=(n(123),function(e){return r.a.createElement("div",null)}),L=n(16),B=n(48),H=n.n(B),M=n(81),D=n.n(M),R=(n(124),function(e){return console.log(e.answering),r.a.createElement("div",{className:D.a.FooterBtnQ,onClick:e.clicked},"Questioning the truth")}),W=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={classes:[H.a.Footer]},n.clickedQuesitoning=function(){n.props.history.push("/addquestion")},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({classes:[].concat(Object(L.a)(e.state.classes),[H.a.FooterIn])})},300)}},{key:"render",value:function(){return console.log("asdfsfd"),r.a.createElement("div",{className:this.state.classes.join(" ")},r.a.createElement(R,{clicked:this.clickedQuesitoning}))}}]),t}(o.Component),U=Object(h.f)(W),G=n(49),V=n.n(G),P=n(36),Y=n.n(P),K=(n(125),function(e){return console.log(e.exited),r.a.createElement(O,null,r.a.createElement(C.a,{in:e.answering,mountOnEnter:!0,unmountOnExit:!0,onExited:e.onExited,timeout:300,classNames:"FadeIn"},r.a.createElement("div",{className:Y.a.FooterBtnQ,onClick:e.clicked},"Dare to answer")),r.a.createElement(C.a,{in:e.exited,mountOnEnter:!0,onEntering:function(){console.log("Enterin")},unmountOnExit:!0,timeout:300,classNames:"FadeIn2"},r.a.createElement("div",{className:Y.a.InputWrapper,style:{transition:"all 1s ease-out"}},r.a.createElement("input",{className:Y.a.FooterInput,onChange:e.change,type:"text"}),r.a.createElement("button",{onClick:e.click},"Submit"))))}),X=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={answering:!1,exited:!1,classes:[V.a.Footer]},n.exitedHandler=function(){console.log("Exited"),n.setState({exited:!0})},n.changeHandler=function(e){n.props.onChange(e.target.value)},n.clickSubmitHandler=function(){n.props.location.search.split("=")[1].trim()},n.clickedQuesitoning=function(){n.setState(function(e){return{answering:!e.answering}})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({classes:[].concat(Object(L.a)(e.state.classes),[V.a.FooterIn])})},300)}},{key:"render",value:function(){return r.a.createElement("div",{className:this.state.classes.join(" ")},r.a.createElement(K,{change:this.changeHandler,onExited:this.exitedHandler,exited:this.state.exited,answering:!this.state.answering,clicked:this.clickedQuesitoning,click:this.props.clickSubmit}))}}]),t}(o.Component),J=Object(f.b)(function(e){return{ans:e.answer.answerval}},function(e){return{onChange:function(t){return e({type:"CHANGE_ANSWER",value:t})}}})(Object(h.f)(X)),Z=n(82),z=n.n(Z),$=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={numClient:0,online:!1},n.clickHandler=function(){var e=n.props.location.search?n.props.location.search:"";n.props.history.push("."+n.props.location.pathname+e+"#confirm"),n.props.clickConfirm()},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("Iam mounted");var t=a.connect();a.on("connect",function(){console.log("check",t.connected),e.setState({online:!0})}),a.on("disconnect",function(){console.log("check",t.connected),e.setState({online:!1})}),a.on("numclient",function(t){console.log(t),e.setState({numClient:t})})}},{key:"render",value:function(){var e=null;return"/"===this.props.location.pathname?e=r.a.createElement(U,null):"/answers"===this.props.location.pathname&&(e=r.a.createElement(J,{clickSubmit:this.clickHandler})),r.a.createElement(O,null,r.a.createElement(F,{numClient:this.state.numClient,online:this.state.online}),r.a.createElement(T,null),r.a.createElement("main",{className:z.a.Content},this.props.children),e)}}]),t}(o.Component),ee=Object(f.b)(function(e){return{confirm:e.answer.confirm}},function(e){return{clickConfirm:function(){return e({type:"CONFIRM"})},clickCancel:function(){return e({type:"CANCEL"})}}})(Object(h.f)($)),te=n(37),ne=n.n(te),ae=function(e){return r.a.createElement("div",{className:ne.a.backGround},r.a.createElement("div",{className:ne.a.LoaderWrapper},r.a.createElement("div",{className:ne.a.Loader},"Loading...")))},oe=n(83),re=n.n(oe),ie=n(33),ce=n.n(ie),se=n(34),le=n.n(se),ue=n(35),pe=n.n(ue),de=function(e){var t=pe()(le.a);return r.a.createElement("div",{className:re.a.Question,onClick:e.clicked},r.a.createElement("h4",null,"Question ",e.questionIndex),r.a.createElement("p",null,e.question),r.a.createElement("small",null,r.a.createElement(ce.a,{date:e.date,formatter:t})))},me=n(84),he=n.n(me),fe=function(e){console.log(e.questions);var t=e.questions?e.questions.map(function(t,n){return r.a.createElement(de,{key:t._id,questionId:t.id,questionIndex:n+1,question:t.question,date:t.createdAt,clicked:function(){return e.clicked(t)}})}):null;return r.a.createElement("div",{className:he.a.Questions},t)},Ee=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).clickedQuesitoning=function(e){n.props.history.push({pathname:"/answers",search:"?question="+e._id})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props),this.props.onInitQuestions(),a.on("addquestion",function(t){console.log("test",t.question),e.props.onGotQuestions(t.question)})}},{key:"componentWillUnmount",value:function(){a.off("addquestion")}},{key:"render",value:function(){return console.log(this.props.questions),r.a.createElement(O,null,r.a.createElement(fe,{questions:this.props.questions,clicked:this.clickedQuesitoning}))}}]),t}(o.Component),_e=Object(f.b)(function(e){return{questions:e.question.questions}},function(e){return{onInitQuestions:function(){return e(function(e){e({type:"START_REQUEST"}),_.get("api/questions").then(function(t){console.log(t.data.questions),e({type:"SET_QUESTION",questions:t.data.questions})}).catch(function(t){e({type:"FINISH_LOADING"}),alert("Please Check Your Internet Connection")})})},onGotQuestions:function(t){return e(function(e){return{type:"ADD_ONEQUESTION",question:e}}(t))}}})(Ee),ge=n(85),ve=n.n(ge),be=function(e){return r.a.createElement("div",{className:ve.a.AddQuestionWrapper},r.a.createElement("h3",null,"Questioning the truth"),r.a.createElement("input",{type:"text",value:e.content,onChange:e.change,placeholder:"Enter Your Question"}),r.a.createElement("button",{onClick:e.clicked},"Submit"))},we=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).changeHandler=function(e){n.props.onChangeQuestionValue(e.target.value)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(O,null,r.a.createElement(be,{clicked:this.props.clicked,content:this.props.val,change:this.changeHandler}))}}]),t}(o.Component),Oe=Object(f.b)(function(e){return{val:e.questions}},function(e){return{onChangeQuestionValue:function(t){return e({type:"CHANGE_QUESTION",value:t})}}})(we),ke=n(86),ye=n.n(ke),je=n(87),Ce=n.n(je),Ne=function(e){var t=pe()(le.a);return r.a.createElement("div",{className:Ce.a.Answer},r.a.createElement("h3",null," Answer ",e.index),r.a.createElement("p",null," ",e.content," "),r.a.createElement("small",null,r.a.createElement(ce.a,{date:e.date,formatter:t})))},qe=function(e){return r.a.createElement("div",{style:{marginBottom:70}},e.answers.map(function(e,t){return r.a.createElement(Ne,{key:e._id,content:e.answer,date:e.createdAt,index:t+1})}))},Ae=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={answers:null,question:null},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.search.split("=")[1].trim();this.props.startLoading(),a.on(t,function(t){e.setState({answers:[].concat(Object(L.a)(e.state.answers),[t.answer])})}),_.post("/api/answers",{question_id:t}).then(function(t){console.log(t.data.answer),e.props.finish(),e.setState({answers:t.data.answer})}).catch(function(t){e.props.finish()}),_.post("/api/onequestion",{question_id:t}).then(function(t){console.log(t.data.questions.question),e.props.finish(),e.setState({question:t.data.questions.question})}).catch(function(t){e.props.finish()})}},{key:"componentWillUnmount",value:function(){var e=this.props.location.search.split("=")[1].trim();a.off(e)}},{key:"render",value:function(){return r.a.createElement(O,null,this.state.question?r.a.createElement("div",{className:ye.a.Question},r.a.createElement("h3",null,"Question"),r.a.createElement("p",null,this.state.question)):null,this.state.answers?r.a.createElement(qe,{answers:this.state.answers}):null)}}]),t}(o.Component),Qe=Object(f.b)(function(e){return{loading:e.question.loading}},function(e){return{finish:function(){return e({type:"FINISH_LOADING"})},startLoading:function(){return e({type:"START_REQUEST"})}}})(Ae),Ie=n(50),xe=n(89),Se=n.n(xe),Fe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={height:window.innerHeight+120},n.submitHandler=function(){var e=n.props.search?n.props.search:"";n.props.history.push("."+n.props.location.pathname+e+"#confirm"),n.props.clickConfirm()},n.questionCancelHandler=function(){n.props.history.goBack(),n.props.clickCancel()},n.confirmHandler=function(){if("/addquestion"==n.props.location.pathname)n.props.history.goBack(),n.props.clickCancel(),n.props.startLoading(),_.post("/api/question",{question:n.props.val}).then(function(e){n.props.finish(),console.log("clicked"),n.props.history.goBack()}).catch(function(e){n.props.finish(),alert("Please Check Your Internet Connection")});else if("/answers"==n.props.location.pathname){var e=n.props.location.search.split("=")[1].trim();n.props.clickCancel(),n.props.startLoading(),_.post("/api/answer",{answer:n.props.ans,question_id:e}).then(function(e){console.log(e),n.props.finish(),window.location.reload()}).catch(function(e){n.props.finish(),console.log(e)})}},a=Se()("https://app.tedxchulalongkornu.net/"),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.location),window.onhashchange=function(){console.log("change"),e.props.history.replace("."+e.props.location.pathname+e.props.location.search),e.props.clickCancel()},window.addEventListener("hashchange",window.onhashchange,!1),this.setState({height:window.innerHeight+120})}},{key:"updateDimensions",value:function(){console.log(this.state.height)}},{key:"render",value:function(){var e=this;function t(e){return Object(Ie.b)(e,{stiffness:330,damping:22})}var n={atEnter:{opacity:0,scale:1.2},atLeave:{opacity:t(0),scale:t(.8)},atActive:{opacity:t(1),scale:t(1)}};return r.a.createElement("div",null,r.a.createElement(ee,null,r.a.createElement(Ie.a,{atEnter:n.atEnter,atLeave:n.atLeave,atActive:n.atActive,mapStyles:function(e){return{opacity:e.opacity,transform:"scale(".concat(e.scale,")")}},className:v.a.routewrapper},r.a.createElement(h.a,{path:"/addquestion",render:function(){return r.a.createElement(Oe,{clicked:e.submitHandler})}}),r.a.createElement(h.a,{path:"/answers",component:Qe}),r.a.createElement(h.a,{path:"/",component:_e}))),r.a.createElement(q,{show:this.props.confirm,modalClosed:this.questionCancelHandler},r.a.createElement("p",{className:v.a.ModalDetail},"Please confirm your question .You can't edit when you submited"),r.a.createElement("div",{className:v.a.ModalBtn,style:{display:"flex",float:"right"}},r.a.createElement("p",{onClick:this.questionCancelHandler},"Cancel"),r.a.createElement("p",{style:{marginLeft:20,alignSelf:"center"},onClick:this.confirmHandler},"Confirm"))),this.props.loading?r.a.createElement(ae,null):null,r.a.createElement("div",{className:v.a.area,style:{height:this.state.height}},r.a.createElement("ul",{className:v.a.circles},r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null))))}}]),t}(o.Component),Te=Object(f.b)(function(e){return{val:e.question.questionsval,confirm:e.answer.confirm,ans:e.answer.answerval,loading:e.question.loading}},function(e){return{clickConfirm:function(){return e({type:"CONFIRM"})},clickCancel:function(){return e({type:"CANCEL"})},setConfirm:function(){return e({type:"SET_CONFIRM"})},finish:function(){return e({type:"FINISH_LOADING"})},startLoading:function(){return e({type:"START_REQUEST"})}}})(Object(h.f)(Fe)),Le=n(90),Be=n(18),He=n(14),Me={questions:null,questionsval:"",cur_question:null,loading:!1},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUESTION":return function(e,t){return Object(He.a)({},e,{questions:t.questions,loading:!1})}(e,t);case"CHANGE_QUESTION":return function(e,t){return Object(He.a)({},e,{questionsval:t.value})}(e,t);case"ADD_ONEQUESTION":return function(e,t){return Object(He.a)({},e,{questions:[].concat(Object(L.a)(e.questions),[t.question])})}(e,t);case"START_REQUEST":return function(e,t){return Object(He.a)({},e,{loading:!0})}(e);case"FINISH_LOADING":return function(e,t){return Object(He.a)({},e,{loading:!1})}(e)}return e},Re={answerval:"",confirm:!1},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ANSWER":return function(e,t){return Object(He.a)({},e,{answerval:t.value})}(e,t);case"CONFIRM":return Object(He.a)({},e,{confirm:!0});case"CANCEL":return Object(He.a)({},e,{confirm:!1})}return e};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Be.d,Ge=Object(Be.c)({question:De,answer:We}),Ve=Object(Be.e)(Ge,Ue(Object(Be.a)(Le.a)));c.a.render(r.a.createElement(f.a,{store:Ve},r.a.createElement(s.a,null,r.a.createElement(Te,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},25:function(e,t,n){e.exports={App:"App_App__2nWdv",area:"App_area__FltEM",ModalDetail:"App_ModalDetail__3KJh-",ModalBtn:"App_ModalBtn__2NNMR",routewrapper:"App_routewrapper__3EMjK",circles:"App_circles__1jTEE",animate:"App_animate__1BLWj"}},26:function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__dd-fm",open:"Toolbar_open__1GlBw",dead:"Toolbar_dead__1D5ce",status:"Toolbar_status__3Dhrs"}},36:function(e,t,n){e.exports={FooterBtnQ:"FooterAnswerBtnQ_FooterBtnQ__jqaxE",FooterInput:"FooterAnswerBtnQ_FooterInput__3Hd9Z",InputWrapper:"FooterAnswerBtnQ_InputWrapper__3tzuc"}},37:function(e,t,n){e.exports={backGround:"Loader_backGround__2LliB",LoaderWrapper:"Loader_LoaderWrapper__3oQBs",Loader:"Loader_Loader__3eZiU",load2:"Loader_load2__q-Oj1"}},48:function(e,t,n){e.exports={Footer:"Footer_Footer__i1_oS",FooterIn:"Footer_FooterIn__UAVpX"}},49:function(e,t,n){e.exports={Footer:"FooterAnswer_Footer__VmLyL",FooterIn:"FooterAnswer_FooterIn__1wEkQ"}},75:function(e,t,n){e.exports={Modal:"Modal_Modal__3tC4P"}},76:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__1x9XI"}},80:function(e,t,n){e.exports=n.p+"static/media/logo.27363cb8.svg"},81:function(e,t,n){e.exports={FooterBtnQ:"FooterBtnQ_FooterBtnQ__2MpAK"}},82:function(e,t,n){e.exports={Content:"Layout_Content__1TneV"}},83:function(e,t,n){e.exports={Question:"Question_Question__29uTs"}},84:function(e,t,n){e.exports={Questions:"Questions_Questions__2YoRK"}},85:function(e,t,n){e.exports={AddQuestionWrapper:"AddQuestionWrapper_AddQuestionWrapper__1RrcN"}},86:function(e,t,n){e.exports={Question:"AnswerCtr_Question__3FT0o"}},87:function(e,t,n){e.exports={Answer:"Answer_Answer__4NAwo"}},92:function(e,t,n){e.exports=n(166)},97:function(e,t,n){}},[[92,1,2]]]);
//# sourceMappingURL=main.173887f9.chunk.js.map